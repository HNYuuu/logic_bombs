{
    "general": {
        "CC": "gcc",
        "CPP": "g++"
    },

    "crypto_lib": {
        "mkdir": [
            "tmp",
            "bin"
        ],
        "cmd": [
            "{CC} -I{INCLUDE} -c -Wall -Werror -fpic -o tmp/{&FILENAME}.o {!FILENAME}",
            "ar cr bin/lib{OUTPUT}.a {!INPUTS} #BATCH"
        ],
        "dependencies": {
            "FILENAME": ["lib/sha1.c", "lib/aes.c", "lib/crypto_utils.c"],
            "INPUTS": ["tmp/.*\\.o"],
            "INCLUDE": "include",
            "OUTPUT": "crypto"
        },
        "exceptions": {

        },
        "rm": [
            "tmp"
        ]
    },

    "utils_lib": {
        "mkdir": [
            "tmp",
            "bin"
        ],
        "cmd": [
            "{CC} -I{INCLUDE} -c -Wall -Werror -fpic -o tmp/{&OUTPUT}.o {!FILENAME} #SINGLE",
            "ar cr bin/lib{OUTPUT}.a {!INPUTS} #BATCH"
        ],
        "dependencies": {
            "FILENAME": ["lib/utils.c"],
            "INPUTS": ["tmp/.*\\.o"],
            "INCLUDE": "include",
            "OUTPUT": "utils"
        },
        "exceptions": [
            "src/src_cpp"
        ],
        "rm": [
            "tmp"
        ]
    },

    "src": {
        "mkdir": [
            "bin/"
        ],
        "cmd": [
            "{CC} -I{INCLUDE} -Lbin -o bin/{&FILENAME} -xc - -lpthread -lm -lutils -lcrypto #PIPE"
        ],
        "dependencies": {
            "PATH": "src/",
            "INCLUDE": "include",
            "TEMPLATE": "templates/default.c"
        },
        "exceptions": [
            "src_cpp"
        ],
        "rm": [
        ]
    },

    "src_cpp": {
        "CC": "g++",
        "mkdir": [
            "bin/"
        ],
        "cmd": [
            "{CC} -I{INCLUDE} -Lbin -o bin/{&FILENAME} -xc++ - -lpthread -lm -lutils #PIPE"
        ],
        "dependencies": {
            "PATH": "src_cpp",
            "INCLUDE": "include",
            "TEMPLATE": "templates/default.c"
        },
        "exceptions": [
        ],
        "rm": [
        ]
    }
}
